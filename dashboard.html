<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Dashboard - ASK Online Academy</title>
<style>
    body { font-family: Arial, sans-serif; background: #f0f2f5; margin:0; padding:0;}
    header { background: #004aad; color: white; padding: 20px; text-align: center;}
    .container { max-width: 600px; margin: 40px auto; padding: 20px; background: white; border-radius: 10px; box-shadow: 0 2px 8px rgba(0,0,0,0.2);}
    a { color: #004aad; font-weight: bold; text-decoration: none;}
    a:hover { text-decoration: underline;}
    textarea { width: 100%; border-radius:5px; border:1px solid #ccc; padding:10px;}
    button {padding:10px 15px; margin-top:10px; cursor:pointer; border:none; border-radius:5px; background:#004aad; color:white;}
    button:hover {background:#002d7a;}
</style>
</head>
<body>

<header>
    <h1>Student Dashboard</h1>
</header>

<div class="container">
    <h2>Welcome, <span id="studentName"></span>!</h2>
    <p>Your Student ID: <span id="studentID"></span></p>
    <p>Your Password: <span id="studentPassword"></span></p>

    <h3>ğŸ“˜ Course Materials</h3>
    <ul>
        <li><a href="" id="notesLink" target="_blank">ğŸ“„ Download Notes</a></li>
        <li><a href="" id="videosLink" target="_blank">ğŸ¥ Watch Video Lectures</a></li>
    </ul>

    <h3>WhatsApp Message</h3>
    <textarea id="whatsappMsg" rows="5"></textarea>
    <button onclick="copyWhatsApp()">Copy WhatsApp Message</button>

    <h3>âš¡ Logout</h3>
    <button onclick="logout()">Logout</button>
</div>

<script>
// ======= Login Protection =======
// Check if user info exists in localStorage
let userData = JSON.parse(localStorage.getItem('studentData'));

if(!userData){
    // If no login info, redirect to login page
    alert("âš ï¸ Please login first!");
    window.location.href = "login.html";
} else {
    // Populate dashboard with user data
    document.getElementById("studentName").innerText = userData.name;
    document.getElementById("studentID").innerText = userData.id;
    document.getElementById("studentPassword").innerText = userData.password;
    document.getElementById("notesLink").href = userData.notes;
    document.getElementById("videosLink").href = userData.videos;

    const msg = `Assalamualaikum ${userData.name} ğŸŒ¸\n\n` +
                `ğŸ‰ Your admission to ASK Online Academy is CONFIRMED!\n\n` +
                `ğŸ”¹ Student ID: ${userData.id}\n` +
                `ğŸ”¹ Password: ${userData.password}\n\n` +
                `ğŸŒ Login here: www.youracademy.com/login.html\n` +
                `ğŸ“˜ Course materials (Notes & Videos) are available on your dashboard.\n\n` +
                `Welcome to ASK Online Academy! ğŸš€`;

    document.getElementById("whatsappMsg").value = msg;
}

// ======= Copy WhatsApp Message =======
function copyWhatsApp() {
    let copyText = document.getElementById("whatsappMsg");
    copyText.select();
    copyText.setSelectionRange(0, 99999);
    navigator.clipboard.writeText(copyText.value);
    alert("WhatsApp message copied! âœ…");
}

// ======= Logout Function =======
function logout(){
    localStorage.removeItem('studentData');
    window.location.href = "login.html";
}
</script>

</body>
</html>
